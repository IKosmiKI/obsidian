## Сортировка
Сортировка (упорядочивание списка объектов) - такая перестановка этих объектов, при которой они располагаются в некотором определенном порядке.
Цель сортировки - облегчить поиск требуемого объекта в отсортированном списке.
Важные области применения сортировки:
1. Поиск общих элементов в двух или более массивах легче осуществлять, если все массивы отсортированы в одном и том же порядке
2. Решение задачи "Группирование". Цель задачи - есть некоторое количество объектов, расположенных случайным образом. Необходимо собрать вместе объекты, у которых некоторый признак имеет общее значение
3. Поиск информации по значениям ключей

**Задачи сортировки**
Предполагаем, что при сортировке мы работаем с некоторыми объектами (характеризуется некими данными). Предположим, что в рамках некоторой предметной области мы решаем некоторую задачу. Для решения этой задачи мы выделяем объекты, которыми можно оперировать в рамках этой предметной области. Каждый объект распознается в предметной области по своим характеристикам и может быть выделен в ней среди других объектов. Предположим, что для каждого объекта все его характеристики мы помещаем в некоторую запись. Тогда для того, чтобы выделить некоторый конкретный объект среди множества объектов нам необходимо иметь некоторый признак в записи, который:
1. позволяет отсылать нас к нужному нам объекту
2. даст нам возможность выделить запись об этом объекте среди других записей. С этой целью в записи предусматривается поле, которое является ключевым полем (ключом). Ключ должен идентифицировать запись

Задача сортировки звучит следующим образом: имеется n записей b1-bn. В каждой записи bj имеется ключевое поле kj, которое управляет процессом сортировки. Помимо ключевого поля запись может иметь множество других полей, но они не влияют на процесс сортировки. Поэтому в алгоритмах сортировки речь идет только о ключевом поле, а остальные поля опускаются. Задача сортировки состоит в том, что необходимо найти такую перестановку записей(b1-bn, с ключами k1-kn), после которой ключи записей расположились бы в порядке не убывания (возрастания).
Метод сортировки называется устойчивым, если в процессе сортировки относительно положение элементов с равными ключами не меняется. Устойчивость сортировки бывает необходимо тогда, когда элементы уже были упорядочены по некоторым вторичным ключам (ключам, по которым сортировка была произведена до этого и не связаны с теперешними ключами)

**Внутренние и внешние сортировки**
Выбор алгоритма зависит от структуры обрабатываем данных и методы сортировки хорошо и наглядно это демонстрируют. Все методы сортировки делятся на 2 класса:
1. Внутренняя сортировка (сортировка массивов)
2. Внешняя сортировка (сортировка файлов)

Такое деление обусловлено следующим - место в оперативной памяти ограничено. Если возможно разместить данные единовременно в памяти, то можно применять внутреннюю сортировку, а если нет, то внешнюю.
К настоящему времени разработано множество различных алгоритмов как для внутренней, так и для внешней сортировок. Так же могут появляться новые алгоритмы. Это связано с тем, что нельзя разработать самый эффективный алгоритм на все случаи жизни. Каждый из алгоритмов оказывается наиболее эффективным в зависимости от конкретных условий. Среди всех алгоритмов сортировки есть группа алгоритмов, которые относят к классике программирования и их знает любой грамотный специалист. Алгоритмы сортировки изучают по следующим основным причинам:
1. они имеют большое практическое значение
2. алгоритмы сортировки - это пример того, как следует подходить к решению задач программирования вообще. На их примере можно увидеть важные принципы манипулирования данными
3. они позволяют продемонстрировать базовые концепции анализа алгоритмов (оценки качества алгоритмов)
4. на примере алгоритмов сортировки легко увидеть как усложнив уже имеющиеся алгоритмы можно получить более эффективный
5. так как все алгоритмы сортировки решают одну и ту же задачу (сортировка данных), то с их помощью можно продемонстрировать как выбор алгоритма влияет на эффективность решения задачи

**Внутренняя сортировка**
Среди внутренних видов сортировки без введения доп. структур данных (массивов) можно в соответствии с принципами их работы выделить 3 группы семейств алгоритмов
1. сортировки с помощью вставок
2. сортировки с помощью выбора
3. сортировки с помощью обмена

Для работы всех алгоритмов потребуется ввести некоторую вспомогательную переменную, она потребуется для временного хранения значения элемента при перестановке элементов. Назовем ее x
**Сортировки с помощью вставок**
Есть отсортированная часть, есть не отсортированная. Берем 1 элемент из не отсортированной и ищем его место в сортированном -> вставляем -> повторяем
Метод простых вставок (просеивания) - Элемент bj помещаем в переменную x. Сравниваем b(j-1) с x. Если b(j-1) < x, то увеличиваем отсортированную часть и берём следующий элемент. Иначе b(j-1) двигаем на место bj.
Тоже самое проделываем с b(j-2) и т.д.
Процесс просеивания заканчивается:
1.  Когда найден элемент bi с ключом меньшим либо равным, чем у рассматриваемого элемента x;
2.  Все элементы упорядоченной части просмотрены, т.е. дошли до левого края и необходимо вставить элемент x первым элементом, т.к. его ключ оказался меньше всех ключей упорядоченной части.
![[Pasted image 20241120145324.png]]
Улучшение метода простых вставок
Делать поиск места для вставки используя метод деления пополам (метод двоичного поиска)
На каждом этапе сортировки элементы продвигаются только на одну позицию. Желательно, чтобы элементы сдвигались с большим шагом.
**Shell-sort**
Каждый проход сортировки характеризуется смешением h, таким, что сортируются записи, каждая из которых отстоящие от предыдущей на h позиций. Суть сортировки состоит в следующем - на каждом проходе сортировки все сортируемые записи делятся на группы. В каждую группу попадают записи, отстоящие друг от друга на h позиций. Затем каждая группа записей сортируется методом простых вставок. На следующем проходе сортировки все записи снова делятся на группы, но отстоящие друг от друга уже на другое меньшее, чем раньше, состояние. Каждая группа записей сортируется методом простых вставок. На последнем этапе шаг будет равен 1. В самом плохом случае на последнем проходе будет проведена оставшаяся сортировка.
Анализ этого алгоритма поставил много проблем с точки зрения математики, которые все еще не разрешены. Существенное значение для скорости это сортировки оказывает выбор значений смещений на последовательных проходах. До сих пор не известно, какие расстояния дают наилучший результат. Желательно, чтобы взаимодействие простых цепочек проходило как можно чаще (например 8, 4, 2, 1)

**Сортировки с помощью выбора** (этот метод не устойчив)
Основная идея заключается в следующем: имеется набор записей – отсортированная и неотсортированная. В этом методе работаем ТОЛЬКО с неотсортированным набором. На i-том этапе сортировки среди элементов bi и bn выбирается элемент bj с наименьшим ключом. Он меняется местами с элементом bi. После этого отсортированная часть увеличивается на 1 элемент.
Эта сортировка начинается с того момента, когда отсортированная часть не существует.
Сортировка заканчивается, когда в неотсортированной части остаётся 1 элемент.
В неотсортированной части ищем минимальный элемент, и если он больше текущего, меняем местами их. Потом идём дальше.
Этот метод работает в среднем быстрее, чем предыдущий.
НИКОГО НИКУДА НЕ ДВИГАЕМ!
 
Метод этот по определению неустойчивый. На экзамене нужно это доказывать. И самому для себя тоже стоит доказать.

**Сортировки с помощью обмена**
На деле все сортировки основываются на обмене значений элементов


